remove(list = ls())
library(DemoTools)

p5 <- structure(c(54170, 44775, 42142, 38464, 34406, 30386, 26933, 
                  23481, 20602, 16489, 14248, 9928, 8490, 4801, 3599, 2048, 941, 
                  326, 80, 17, 0, 57424, 44475, 41752, 39628, 34757, 30605, 27183, 
                  23792, 20724, 17056, 14059, 10585, 8103, 5306, 3367, 2040, 963, 
                  315, 80, 16, 1, 60272, 44780, 41804, 40229, 35155, 30978, 27456, 
                  24097, 20873, 17546, 13990, 11146, 7841, 5738, 3184, 2062, 961, 
                  311, 80, 15, 1, 62727, 45681, 42101, 40474, 35599, 31439, 27758, 
                  24396, 21055, 17958, 14046, 11589, 7731, 6060, 3086, 2083, 949, 
                  312, 79, 14, 1, 64816, 47137, 42508, 40532, 36083, 31940, 28092, 
                  24693, 21274, 18299, 14223, 11906, 7785, 6255, 3090, 2084, 938, 
                  316, 80, 14, 2), 
                .Dim = c(21L, 5L), 
                .Dimnames = list(seq(0,100,by=5), 1950:1954))
head(p5) # this is the entire matrix
p1  <- beers(p5, OAG = T)
p1g <- grabill(p5)
p1s <- sprague(p5)

plot(seq(0,100,by=5),p5[,1]/5,type = "s", col = "gray", xlab = "Age", ylab = "Count")
lines(0:100, p1[,1], col = 2, lwd = 2)
lines(0:100, p1g[,1], col = 3, lwd = 2)
lines(0:100, p1s[,1], col = 4, lty = 2)
legend("topright", 
       lty = c(1, 1, 1, 2), 
       col = c("gray", 2:4), 
       lwd = c(1,2, 2,1), 
       legend = c("grouped","Beers" ,"Grabill", "Sprague"))
